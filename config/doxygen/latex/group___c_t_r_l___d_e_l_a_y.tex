\doxysubsubsubsection{数组延迟链 }
\hypertarget{group___c_t_r_l___d_e_l_a_y}{}\label{group___c_t_r_l___d_e_l_a_y}\index{数组延迟链@{数组延迟链}}


实现基于数组的数据延迟链  


数组延迟链 的协作图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=246pt]{group___c_t_r_l___d_e_l_a_y}
\end{center}
\end{figure}
\doxysubsubsubsubsubsection*{结构体}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}}
\begin{DoxyCompactList}\small\item\em 数组延迟链结构体定义 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef struct DELAY \mbox{\hyperlink{group___c_t_r_l___d_e_l_a_y_gac993929848db081769e724a03456dcc4}{DELAY}}
\begin{DoxyCompactList}\small\item\em 数组延迟链结构体定义 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___c_t_r_l___d_e_l_a_y_ga1d1f6ac6440c9beb1b7c6051c8fa15e0}{DELAY\+\_\+\+Init}} (\mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}} \texorpdfstring{$\ast$}{*}delay\+\_\+addr)
\begin{DoxyCompactList}\small\item\em 初始化延迟链 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___d_e_l_a_y_ga7f6f301d186e73e3449b5136447dbb11}{DELAY\+\_\+\+Set}} (\mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}} \texorpdfstring{$\ast$}{*}delay\+\_\+addr, float32\+\_\+t isr\+\_\+freq, float32\+\_\+t grid\+\_\+freq)
\begin{DoxyCompactList}\small\item\em 配置延时链 \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{group___c_t_r_l___d_e_l_a_y_gab12603b239fc84d00450dded1a9629ee}{DELAY\+\_\+\+Push}} (\mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}} \texorpdfstring{$\ast$}{*}delay\+\_\+addr, float32\+\_\+t data)
\begin{DoxyCompactList}\small\item\em 送入数据到延迟链 \end{DoxyCompactList}\item 
static float32\+\_\+t \mbox{\hyperlink{group___c_t_r_l___d_e_l_a_y_ga09696418bb8d13d744d744fca5f28973}{DELAY\+\_\+\+Pop}} (\mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}} \texorpdfstring{$\ast$}{*}delay\+\_\+addr, float32\+\_\+t phase)
\begin{DoxyCompactList}\small\item\em 输出特定延迟相位的数据 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsubsubsection{详细描述}
实现基于数组的数据延迟链 



\label{doc-typedef-members}
\Hypertarget{group___c_t_r_l___d_e_l_a_y_doc-typedef-members}
\doxysubsubsubsubsection{类型定义说明}
\Hypertarget{group___c_t_r_l___d_e_l_a_y_gac993929848db081769e724a03456dcc4}\index{数组延迟链@{数组延迟链}!DELAY@{DELAY}}
\index{DELAY@{DELAY}!数组延迟链@{数组延迟链}}
\doxysubsubsubsubsubsection{\texorpdfstring{DELAY}{DELAY}}
{\footnotesize\ttfamily \label{group___c_t_r_l___d_e_l_a_y_gac993929848db081769e724a03456dcc4} 
typedef struct DELAY DELAY}



数组延迟链结构体定义 



\label{doc-func-members}
\Hypertarget{group___c_t_r_l___d_e_l_a_y_doc-func-members}
\doxysubsubsubsubsection{函数说明}
\Hypertarget{group___c_t_r_l___d_e_l_a_y_ga1d1f6ac6440c9beb1b7c6051c8fa15e0}\index{数组延迟链@{数组延迟链}!DELAY\_Init@{DELAY\_Init}}
\index{DELAY\_Init@{DELAY\_Init}!数组延迟链@{数组延迟链}}
\doxysubsubsubsubsubsection{\texorpdfstring{DELAY\_Init()}{DELAY\_Init()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___d_e_l_a_y_ga1d1f6ac6440c9beb1b7c6051c8fa15e0} 
void DELAY\+\_\+\+Init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}} \texorpdfstring{$\ast$}{*}}]{delay\+\_\+addr}{}\end{DoxyParamCaption})}



初始化延迟链 


\begin{DoxyParams}{参数}
{\em delay\+\_\+addr} & 结构体指针\\
\hline
\end{DoxyParams}
初始化延迟链

\begin{DoxyNote}{注解}
需要在.\+cmd文件中配置 .TI.\+ramfunc 段位置, 并预留足够空间 
\end{DoxyNote}


在文件 \mbox{\hyperlink{delay_8c_source}{delay.\+c}} 第 \mbox{\hyperlink{delay_8c_source_l00018}{18}} 行定义.

\Hypertarget{group___c_t_r_l___d_e_l_a_y_ga09696418bb8d13d744d744fca5f28973}\index{数组延迟链@{数组延迟链}!DELAY\_Pop@{DELAY\_Pop}}
\index{DELAY\_Pop@{DELAY\_Pop}!数组延迟链@{数组延迟链}}
\doxysubsubsubsubsubsection{\texorpdfstring{DELAY\_Pop()}{DELAY\_Pop()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___d_e_l_a_y_ga09696418bb8d13d744d744fca5f28973} 
float32\+\_\+t DELAY\+\_\+\+Pop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}} \texorpdfstring{$\ast$}{*}}]{delay\+\_\+addr}{, }\item[{float32\+\_\+t}]{phase}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



输出特定延迟相位的数据 


\begin{DoxyParams}{参数}
{\em delay\+\_\+addr} & 结构体指针 \\
\hline
{\em phase} & 延迟相位,单位弧度 \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{注解}
在调用此函数前,必须将本周期输入送入延迟链
\end{DoxyNote}
\begin{DoxyReturn}{返回}
float32\+\_\+t 延迟后的数据 
\end{DoxyReturn}


在文件 \mbox{\hyperlink{delay_8h_source}{delay.\+h}} 第 \mbox{\hyperlink{delay_8h_source_l00077}{77}} 行定义.

\Hypertarget{group___c_t_r_l___d_e_l_a_y_gab12603b239fc84d00450dded1a9629ee}\index{数组延迟链@{数组延迟链}!DELAY\_Push@{DELAY\_Push}}
\index{DELAY\_Push@{DELAY\_Push}!数组延迟链@{数组延迟链}}
\doxysubsubsubsubsubsection{\texorpdfstring{DELAY\_Push()}{DELAY\_Push()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___d_e_l_a_y_gab12603b239fc84d00450dded1a9629ee} 
void DELAY\+\_\+\+Push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}} \texorpdfstring{$\ast$}{*}}]{delay\+\_\+addr}{, }\item[{float32\+\_\+t}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



送入数据到延迟链 


\begin{DoxyParams}{参数}
{\em delay\+\_\+addr} & 结构体指针 \\
\hline
{\em data} & 送入延迟链的数据 \\
\hline
\end{DoxyParams}


在文件 \mbox{\hyperlink{delay_8h_source}{delay.\+h}} 第 \mbox{\hyperlink{delay_8h_source_l00058}{58}} 行定义.

\Hypertarget{group___c_t_r_l___d_e_l_a_y_ga7f6f301d186e73e3449b5136447dbb11}\index{数组延迟链@{数组延迟链}!DELAY\_Set@{DELAY\_Set}}
\index{DELAY\_Set@{DELAY\_Set}!数组延迟链@{数组延迟链}}
\doxysubsubsubsubsubsection{\texorpdfstring{DELAY\_Set()}{DELAY\_Set()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___d_e_l_a_y_ga7f6f301d186e73e3449b5136447dbb11} 
void DELAY\+\_\+\+Set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_d_e_l_a_y}{DELAY}} \texorpdfstring{$\ast$}{*}}]{delay\+\_\+addr}{, }\item[{float32\+\_\+t}]{isr\+\_\+freq}{, }\item[{float32\+\_\+t}]{grid\+\_\+freq}{}\end{DoxyParamCaption})}



配置延时链 


\begin{DoxyParams}{参数}
{\em delay\+\_\+addr} & 结构体指针 \\
\hline
{\em isr\+\_\+freq} & 中断频率,单位\+Hz \\
\hline
{\em grid\+\_\+freq} & 参考信号频率,单位\+Hz \\
\hline
\end{DoxyParams}


在文件 \mbox{\hyperlink{delay_8c_source}{delay.\+c}} 第 \mbox{\hyperlink{delay_8c_source_l00031}{31}} 行定义.

