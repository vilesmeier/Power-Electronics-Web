\doxysection{D\+:/\+Codes/\+NUEDC/\+NUEDC-\/\+Core/\+Code/\+Control\+\_\+\+Driver/vofa/vofa.h 文件参考}
\hypertarget{vofa_8h}{}\label{vofa_8h}\index{D:/Codes/NUEDC/NUEDC-\/Core/Code/Control\_Driver/vofa/vofa.h@{D:/Codes/NUEDC/NUEDC-\/Core/Code/Control\_Driver/vofa/vofa.h}}


VOFA上位机支持, 函数声明  


{\ttfamily \#include "{}stdint.\+h"{}}\newline
{\ttfamily \#include "{}sci.\+h"{}}\newline
{\ttfamily \#include "{}inc/hw\+\_\+types.\+h"{}}\newline
vofa.\+h 的引用(Include)关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=280pt]{vofa_8h__incl}
\end{center}
\end{figure}
此图展示该文件被哪些文件直接或间接地引用了\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vofa_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{结构体}
\begin{DoxyCompactItemize}
\item 
union \mbox{\hyperlink{union_t_y_p_e___t_r_a_n_s_f_o_r_m}{TYPE\+\_\+\+TRANSFORM}}
\begin{DoxyCompactList}\small\item\em 转换数据类型 \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_v_o_f_a___d_a_t_a}{VOFA\+\_\+\+DATA}}
\begin{DoxyCompactList}\small\item\em VOFA通信结构体 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gaa517f32c8967d32dda0e1b2a84ff6dbf}{VOFA\+\_\+\+UART\+\_\+\+BASE}}~\mbox{\hyperlink{group___d_r_v___f28335___u_a_r_t_ga9b6401b26df29cb46afa5fff9400354c}{SCIA\+\_\+\+BASE}}
\begin{DoxyCompactList}\small\item\em 选择 VOFA 使用的 SCI 外设 \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gacda8ba9aa8f8e05c951333eb1eb48ac8}{VOFA\+\_\+\+CHANNEL\+\_\+\+NUM\+\_\+\+MAX}}~10
\begin{DoxyCompactList}\small\item\em VOFA 显示数据最大通道数, 若通道数不够, 可以增大此值 \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gab5a6ba0272530bc5b252671e490a5203}{VOFA\+\_\+\+PACK\+\_\+\+LENGTH}}~4
\begin{DoxyCompactList}\small\item\em VOFA 发送单个浮点数所用字节数 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga7bbb384645b68e0d56b7da209b5314aa}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}}
\begin{DoxyCompactList}\small\item\em VOFA 使能发送标志位 \end{DoxyCompactList}\item 
typedef enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga0de3b77b594bbf978b4e0e0d948fd883}{VOFA\+\_\+\+STATE}}
\begin{DoxyCompactList}\small\item\em VOFA 状态标志位 \end{DoxyCompactList}\item 
typedef union TYPE\+\_\+\+TRANSFORM \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga26b5eae5bf51e0a793ffbb2a0e592523}{TYPE\+\_\+\+TRANSFORM}}
\begin{DoxyCompactList}\small\item\em 转换数据类型 \end{DoxyCompactList}\item 
typedef struct VOFA\+\_\+\+DATA \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gab3d19e49afa30694106b512ad5c09acf}{VOFA\+\_\+\+DATA}}
\begin{DoxyCompactList}\small\item\em VOFA通信结构体 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{枚举}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}} \{ \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ggafcb723318be30393d60f79e9d263dd3dabdcfc57053a162a7bff33518603d2c06}{VOFA\+\_\+\+Flag\+\_\+\+Send\+\_\+\+Disable}} = 0U
, \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ggafcb723318be30393d60f79e9d263dd3da62c930f3b7ee9b9869a12b0b7f59026c}{VOFA\+\_\+\+Flag\+\_\+\+Send\+\_\+\+Enable}} = 1U
 \}
\begin{DoxyCompactList}\small\item\em VOFA 使能发送标志位 \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}} \{ \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gga90a89302326522750f64aa6eef8c4675af5896b92377d0699361fc0d4a0a40854}{VOFA\+\_\+\+Flag\+\_\+\+Idle}} = 0U
, \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gga90a89302326522750f64aa6eef8c4675a0274583528dad0fe7134a75b9facb2b1}{VOFA\+\_\+\+Flag\+\_\+\+Sending}} = 1U
 \}
\begin{DoxyCompactList}\small\item\em VOFA 状态标志位 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga77c9aea85bbaf41bbce8fc26c9cf846e}{VOFA\+\_\+\+Init}} (void)
\begin{DoxyCompactList}\small\item\em 初始化结构体 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga8b37353f7cbbd178e8f995dba7eaae73}{VOFA\+\_\+\+Set\+\_\+\+Channel\+\_\+\+Input}} (uint16\+\_\+t channel, float32\+\_\+t \texorpdfstring{$\ast$}{*}input\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em 通道输入源关联变量 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga29a019e9a9005773e370e6b2013f60be}{VOFA\+\_\+\+Run}} (void)
\begin{DoxyCompactList}\small\item\em 使用 Justfloat 协议, 向 VOFA 上位机发送数据 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gae9fe0fa8baf50f14038971031d27738d}{VOFA\+\_\+\+Request\+\_\+\+Send}} (void)
\begin{DoxyCompactList}\small\item\em 请求\+VOFA发送数据 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafd0317fa68f76c5017d4518c477a0a29}{VOFA\+\_\+\+Cancel\+\_\+\+Send}} (void)
\begin{DoxyCompactList}\small\item\em 撤销\+VOFA发送请求 \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga534aa6e0fb17e6fc1de2979922f8350e}{VOFA\+\_\+\+Get\+\_\+\+Send\+\_\+\+State}} (void)
\begin{DoxyCompactList}\small\item\em 获取当前发送使能状态 \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga5af5cffe87993c596115f56b3ad28794}{VOFA\+\_\+\+Get\+\_\+\+State}} (void)
\begin{DoxyCompactList}\small\item\em 获取当前是否正在发送 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{变量}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_v_o_f_a___d_a_t_a}{VOFA\+\_\+\+DATA}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga54ca96c28eff06e3693019a16ad097ee}{message\+\_\+array}}
\begin{DoxyCompactList}\small\item\em VOFA 通信结构体变量声明 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
VOFA上位机支持, 函数声明 

\begin{DoxyAuthor}{作者}
Mao Chenbin (\href{mailto:508038890@qq.com}{\texttt{508038890@qq.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyWarning}{警告}
请在main函数死循环内调用该函数, 不要在中断内调用 
\end{DoxyWarning}
\begin{DoxyNote}{注解}

\begin{DoxyItemize}
\item 通过修改 {\bfseries{VOFA\+\_\+\+UART\+\_\+\+BASE}} 宏定义, 指定 VOFA所使用的 SCI 外设
\item 部分函数需要驱动库地城函数支持 
\end{DoxyItemize}
\end{DoxyNote}


在文件 \mbox{\hyperlink{vofa_8h_source}{vofa.\+h}} 中定义.

