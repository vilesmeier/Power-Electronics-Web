\doxysubsubsubsection{VOFA上位机支持 }
\hypertarget{group___c_t_r_l___v_o_f_a}{}\label{group___c_t_r_l___v_o_f_a}\index{VOFA上位机支持@{VOFA上位机支持}}


提供通过\+SCI向\+VOFA上位机发送数据的支持, 自定义通道数以及数据源  


VOFA上位机支持 的协作图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{group___c_t_r_l___v_o_f_a}
\end{center}
\end{figure}
\doxysubsubsubsubsubsection*{结构体}
\begin{DoxyCompactItemize}
\item 
union \mbox{\hyperlink{union_t_y_p_e___t_r_a_n_s_f_o_r_m}{TYPE\+\_\+\+TRANSFORM}}
\begin{DoxyCompactList}\small\item\em 转换数据类型 \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_v_o_f_a___d_a_t_a}{VOFA\+\_\+\+DATA}}
\begin{DoxyCompactList}\small\item\em VOFA通信结构体 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gaa517f32c8967d32dda0e1b2a84ff6dbf}{VOFA\+\_\+\+UART\+\_\+\+BASE}}~\mbox{\hyperlink{group___d_r_v___f28335___u_a_r_t_ga9b6401b26df29cb46afa5fff9400354c}{SCIA\+\_\+\+BASE}}
\begin{DoxyCompactList}\small\item\em 选择 VOFA 使用的 SCI 外设 \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gacda8ba9aa8f8e05c951333eb1eb48ac8}{VOFA\+\_\+\+CHANNEL\+\_\+\+NUM\+\_\+\+MAX}}~10
\begin{DoxyCompactList}\small\item\em VOFA 显示数据最大通道数, 若通道数不够, 可以增大此值 \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gab5a6ba0272530bc5b252671e490a5203}{VOFA\+\_\+\+PACK\+\_\+\+LENGTH}}~4
\begin{DoxyCompactList}\small\item\em VOFA 发送单个浮点数所用字节数 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga7bbb384645b68e0d56b7da209b5314aa}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}}
\begin{DoxyCompactList}\small\item\em VOFA 使能发送标志位 \end{DoxyCompactList}\item 
typedef enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga0de3b77b594bbf978b4e0e0d948fd883}{VOFA\+\_\+\+STATE}}
\begin{DoxyCompactList}\small\item\em VOFA 状态标志位 \end{DoxyCompactList}\item 
typedef union TYPE\+\_\+\+TRANSFORM \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga26b5eae5bf51e0a793ffbb2a0e592523}{TYPE\+\_\+\+TRANSFORM}}
\begin{DoxyCompactList}\small\item\em 转换数据类型 \end{DoxyCompactList}\item 
typedef struct VOFA\+\_\+\+DATA \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gab3d19e49afa30694106b512ad5c09acf}{VOFA\+\_\+\+DATA}}
\begin{DoxyCompactList}\small\item\em VOFA通信结构体 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{枚举}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}} \{ \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ggafcb723318be30393d60f79e9d263dd3dabdcfc57053a162a7bff33518603d2c06}{VOFA\+\_\+\+Flag\+\_\+\+Send\+\_\+\+Disable}} = 0U
, \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ggafcb723318be30393d60f79e9d263dd3da62c930f3b7ee9b9869a12b0b7f59026c}{VOFA\+\_\+\+Flag\+\_\+\+Send\+\_\+\+Enable}} = 1U
 \}
\begin{DoxyCompactList}\small\item\em VOFA 使能发送标志位 \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}} \{ \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gga90a89302326522750f64aa6eef8c4675af5896b92377d0699361fc0d4a0a40854}{VOFA\+\_\+\+Flag\+\_\+\+Idle}} = 0U
, \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gga90a89302326522750f64aa6eef8c4675a0274583528dad0fe7134a75b9facb2b1}{VOFA\+\_\+\+Flag\+\_\+\+Sending}} = 1U
 \}
\begin{DoxyCompactList}\small\item\em VOFA 状态标志位 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga77c9aea85bbaf41bbce8fc26c9cf846e}{VOFA\+\_\+\+Init}} (void)
\begin{DoxyCompactList}\small\item\em 初始化结构体 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga8b37353f7cbbd178e8f995dba7eaae73}{VOFA\+\_\+\+Set\+\_\+\+Channel\+\_\+\+Input}} (uint16\+\_\+t channel, float32\+\_\+t \texorpdfstring{$\ast$}{*}input\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em 通道输入源关联变量 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga29a019e9a9005773e370e6b2013f60be}{VOFA\+\_\+\+Run}} (void)
\begin{DoxyCompactList}\small\item\em 使用 Justfloat 协议, 向 VOFA 上位机发送数据 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gae9fe0fa8baf50f14038971031d27738d}{VOFA\+\_\+\+Request\+\_\+\+Send}} (void)
\begin{DoxyCompactList}\small\item\em 请求\+VOFA发送数据 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafd0317fa68f76c5017d4518c477a0a29}{VOFA\+\_\+\+Cancel\+\_\+\+Send}} (void)
\begin{DoxyCompactList}\small\item\em 撤销\+VOFA发送请求 \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga534aa6e0fb17e6fc1de2979922f8350e}{VOFA\+\_\+\+Get\+\_\+\+Send\+\_\+\+State}} (void)
\begin{DoxyCompactList}\small\item\em 获取当前发送使能状态 \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga5af5cffe87993c596115f56b3ad28794}{VOFA\+\_\+\+Get\+\_\+\+State}} (void)
\begin{DoxyCompactList}\small\item\em 获取当前是否正在发送 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{变量}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_v_o_f_a___d_a_t_a}{VOFA\+\_\+\+DATA}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga54ca96c28eff06e3693019a16ad097ee}{message\+\_\+array}}
\begin{DoxyCompactList}\small\item\em VOFA 通信结构体变量声明 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsubsubsection{详细描述}
提供通过\+SCI向\+VOFA上位机发送数据的支持, 自定义通道数以及数据源 



\label{doc-define-members}
\Hypertarget{group___c_t_r_l___v_o_f_a_doc-define-members}
\doxysubsubsubsubsection{宏定义说明}
\Hypertarget{group___c_t_r_l___v_o_f_a_gacda8ba9aa8f8e05c951333eb1eb48ac8}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_CHANNEL\_NUM\_MAX@{VOFA\_CHANNEL\_NUM\_MAX}}
\index{VOFA\_CHANNEL\_NUM\_MAX@{VOFA\_CHANNEL\_NUM\_MAX}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_CHANNEL\_NUM\_MAX}{VOFA\_CHANNEL\_NUM\_MAX}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_gacda8ba9aa8f8e05c951333eb1eb48ac8} 
\#define VOFA\+\_\+\+CHANNEL\+\_\+\+NUM\+\_\+\+MAX~10}



VOFA 显示数据最大通道数, 若通道数不够, 可以增大此值 



在文件 \mbox{\hyperlink{vofa_8h_source}{vofa.\+h}} 第 \mbox{\hyperlink{vofa_8h_source_l00025}{25}} 行定义.

\Hypertarget{group___c_t_r_l___v_o_f_a_gab5a6ba0272530bc5b252671e490a5203}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_PACK\_LENGTH@{VOFA\_PACK\_LENGTH}}
\index{VOFA\_PACK\_LENGTH@{VOFA\_PACK\_LENGTH}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_PACK\_LENGTH}{VOFA\_PACK\_LENGTH}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_gab5a6ba0272530bc5b252671e490a5203} 
\#define VOFA\+\_\+\+PACK\+\_\+\+LENGTH~4}



VOFA 发送单个浮点数所用字节数 



在文件 \mbox{\hyperlink{vofa_8h_source}{vofa.\+h}} 第 \mbox{\hyperlink{vofa_8h_source_l00026}{26}} 行定义.

\Hypertarget{group___c_t_r_l___v_o_f_a_gaa517f32c8967d32dda0e1b2a84ff6dbf}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_UART\_BASE@{VOFA\_UART\_BASE}}
\index{VOFA\_UART\_BASE@{VOFA\_UART\_BASE}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_UART\_BASE}{VOFA\_UART\_BASE}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_gaa517f32c8967d32dda0e1b2a84ff6dbf} 
\#define VOFA\+\_\+\+UART\+\_\+\+BASE~\mbox{\hyperlink{group___d_r_v___f28335___u_a_r_t_ga9b6401b26df29cb46afa5fff9400354c}{SCIA\+\_\+\+BASE}}}



选择 VOFA 使用的 SCI 外设 



在文件 \mbox{\hyperlink{vofa_8h_source}{vofa.\+h}} 第 \mbox{\hyperlink{vofa_8h_source_l00024}{24}} 行定义.



\label{doc-typedef-members}
\Hypertarget{group___c_t_r_l___v_o_f_a_doc-typedef-members}
\doxysubsubsubsubsection{类型定义说明}
\Hypertarget{group___c_t_r_l___v_o_f_a_ga26b5eae5bf51e0a793ffbb2a0e592523}\index{VOFA上位机支持@{VOFA上位机支持}!TYPE\_TRANSFORM@{TYPE\_TRANSFORM}}
\index{TYPE\_TRANSFORM@{TYPE\_TRANSFORM}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{TYPE\_TRANSFORM}{TYPE\_TRANSFORM}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga26b5eae5bf51e0a793ffbb2a0e592523} 
typedef union TYPE\+\_\+\+TRANSFORM TYPE\+\_\+\+TRANSFORM}



转换数据类型 

\begin{DoxyNote}{注解}
通过 union 共享内存, 将32-\/bit 浮点数据转为两个 uint16\+\_\+t 数据 
\end{DoxyNote}
\Hypertarget{group___c_t_r_l___v_o_f_a_gab3d19e49afa30694106b512ad5c09acf}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_DATA@{VOFA\_DATA}}
\index{VOFA\_DATA@{VOFA\_DATA}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_DATA}{VOFA\_DATA}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_gab3d19e49afa30694106b512ad5c09acf} 
typedef struct VOFA\+\_\+\+DATA VOFA\+\_\+\+DATA}



VOFA通信结构体 

\begin{DoxyNote}{注解}
C2000 不支持 8-\/bit 变量, 使用16-\/bit长度整形 
\end{DoxyNote}
\begin{DoxyWarning}{警告}
uint16\+\_\+t 只使用低8位数据传输 
\end{DoxyWarning}
\Hypertarget{group___c_t_r_l___v_o_f_a_ga7bbb384645b68e0d56b7da209b5314aa}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_FLAG\_SEND@{VOFA\_FLAG\_SEND}}
\index{VOFA\_FLAG\_SEND@{VOFA\_FLAG\_SEND}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_FLAG\_SEND}{VOFA\_FLAG\_SEND}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga7bbb384645b68e0d56b7da209b5314aa} 
typedef enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}}}



VOFA 使能发送标志位 

\begin{DoxyNote}{注解}
在调用发送函数前, 必须先将 Flag\+\_\+\+Send 置位 
\end{DoxyNote}
\Hypertarget{group___c_t_r_l___v_o_f_a_ga0de3b77b594bbf978b4e0e0d948fd883}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_STATE@{VOFA\_STATE}}
\index{VOFA\_STATE@{VOFA\_STATE}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_STATE}{VOFA\_STATE}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga0de3b77b594bbf978b4e0e0d948fd883} 
typedef enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}} \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}}}



VOFA 状态标志位 



\label{doc-enum-members}
\Hypertarget{group___c_t_r_l___v_o_f_a_doc-enum-members}
\doxysubsubsubsubsection{枚举类型说明}
\Hypertarget{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_FLAG\_SEND@{VOFA\_FLAG\_SEND}}
\index{VOFA\_FLAG\_SEND@{VOFA\_FLAG\_SEND}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_FLAG\_SEND}{VOFA\_FLAG\_SEND}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d} 
enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}}}



VOFA 使能发送标志位 

\begin{DoxyNote}{注解}
在调用发送函数前, 必须先将 Flag\+\_\+\+Send 置位 
\end{DoxyNote}
\begin{DoxyEnumFields}[2]{枚举值}
\raisebox{\heightof{T}}[0pt][0pt]{\index{VOFA\_Flag\_Send\_Disable@{VOFA\_Flag\_Send\_Disable}!VOFA上位机支持@{VOFA上位机支持}}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Flag\_Send\_Disable@{VOFA\_Flag\_Send\_Disable}}}\Hypertarget{group___c_t_r_l___v_o_f_a_ggafcb723318be30393d60f79e9d263dd3dabdcfc57053a162a7bff33518603d2c06}\label{group___c_t_r_l___v_o_f_a_ggafcb723318be30393d60f79e9d263dd3dabdcfc57053a162a7bff33518603d2c06} 
VOFA\+\_\+\+Flag\+\_\+\+Send\+\_\+\+Disable&禁止\+VOFA发送数据包 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{VOFA\_Flag\_Send\_Enable@{VOFA\_Flag\_Send\_Enable}!VOFA上位机支持@{VOFA上位机支持}}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Flag\_Send\_Enable@{VOFA\_Flag\_Send\_Enable}}}\Hypertarget{group___c_t_r_l___v_o_f_a_ggafcb723318be30393d60f79e9d263dd3da62c930f3b7ee9b9869a12b0b7f59026c}\label{group___c_t_r_l___v_o_f_a_ggafcb723318be30393d60f79e9d263dd3da62c930f3b7ee9b9869a12b0b7f59026c} 
VOFA\+\_\+\+Flag\+\_\+\+Send\+\_\+\+Enable&允许\+VOFA发送数据包 \\
\hline

\end{DoxyEnumFields}


在文件 \mbox{\hyperlink{vofa_8h_source}{vofa.\+h}} 第 \mbox{\hyperlink{vofa_8h_source_l00033}{33}} 行定义.

\Hypertarget{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_STATE@{VOFA\_STATE}}
\index{VOFA\_STATE@{VOFA\_STATE}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_STATE}{VOFA\_STATE}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675} 
enum \mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}}}



VOFA 状态标志位 

\begin{DoxyEnumFields}[2]{枚举值}
\raisebox{\heightof{T}}[0pt][0pt]{\index{VOFA\_Flag\_Idle@{VOFA\_Flag\_Idle}!VOFA上位机支持@{VOFA上位机支持}}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Flag\_Idle@{VOFA\_Flag\_Idle}}}\Hypertarget{group___c_t_r_l___v_o_f_a_gga90a89302326522750f64aa6eef8c4675af5896b92377d0699361fc0d4a0a40854}\label{group___c_t_r_l___v_o_f_a_gga90a89302326522750f64aa6eef8c4675af5896b92377d0699361fc0d4a0a40854} 
VOFA\+\_\+\+Flag\+\_\+\+Idle&VOFA空闲状态 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{VOFA\_Flag\_Sending@{VOFA\_Flag\_Sending}!VOFA上位机支持@{VOFA上位机支持}}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Flag\_Sending@{VOFA\_Flag\_Sending}}}\Hypertarget{group___c_t_r_l___v_o_f_a_gga90a89302326522750f64aa6eef8c4675a0274583528dad0fe7134a75b9facb2b1}\label{group___c_t_r_l___v_o_f_a_gga90a89302326522750f64aa6eef8c4675a0274583528dad0fe7134a75b9facb2b1} 
VOFA\+\_\+\+Flag\+\_\+\+Sending&VOFA正在发送数据包 \\
\hline

\end{DoxyEnumFields}


在文件 \mbox{\hyperlink{vofa_8h_source}{vofa.\+h}} 第 \mbox{\hyperlink{vofa_8h_source_l00044}{44}} 行定义.



\label{doc-func-members}
\Hypertarget{group___c_t_r_l___v_o_f_a_doc-func-members}
\doxysubsubsubsubsection{函数说明}
\Hypertarget{group___c_t_r_l___v_o_f_a_gafd0317fa68f76c5017d4518c477a0a29}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Cancel\_Send@{VOFA\_Cancel\_Send}}
\index{VOFA\_Cancel\_Send@{VOFA\_Cancel\_Send}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_Cancel\_Send()}{VOFA\_Cancel\_Send()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_gafd0317fa68f76c5017d4518c477a0a29} 
void VOFA\+\_\+\+Cancel\+\_\+\+Send (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



撤销\+VOFA发送请求 



在文件 \mbox{\hyperlink{vofa_8c_source}{vofa.\+c}} 第 \mbox{\hyperlink{vofa_8c_source_l00131}{131}} 行定义.

\Hypertarget{group___c_t_r_l___v_o_f_a_ga534aa6e0fb17e6fc1de2979922f8350e}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Get\_Send\_State@{VOFA\_Get\_Send\_State}}
\index{VOFA\_Get\_Send\_State@{VOFA\_Get\_Send\_State}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_Get\_Send\_State()}{VOFA\_Get\_Send\_State()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga534aa6e0fb17e6fc1de2979922f8350e} 
\mbox{\hyperlink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND}} VOFA\+\_\+\+Get\+\_\+\+Send\+\_\+\+State (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



获取当前发送使能状态 

\begin{DoxyReturn}{返回}
\doxylink{group___c_t_r_l___v_o_f_a_gafcb723318be30393d60f79e9d263dd3d}{VOFA\+\_\+\+FLAG\+\_\+\+SEND} 
\end{DoxyReturn}


在文件 \mbox{\hyperlink{vofa_8c_source}{vofa.\+c}} 第 \mbox{\hyperlink{vofa_8c_source_l00136}{136}} 行定义.

\Hypertarget{group___c_t_r_l___v_o_f_a_ga5af5cffe87993c596115f56b3ad28794}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Get\_State@{VOFA\_Get\_State}}
\index{VOFA\_Get\_State@{VOFA\_Get\_State}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_Get\_State()}{VOFA\_Get\_State()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga5af5cffe87993c596115f56b3ad28794} 
\mbox{\hyperlink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE}} VOFA\+\_\+\+Get\+\_\+\+State (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



获取当前是否正在发送 

\begin{DoxyReturn}{返回}
\doxylink{group___c_t_r_l___v_o_f_a_ga90a89302326522750f64aa6eef8c4675}{VOFA\+\_\+\+STATE} 
\end{DoxyReturn}


在文件 \mbox{\hyperlink{vofa_8c_source}{vofa.\+c}} 第 \mbox{\hyperlink{vofa_8c_source_l00141}{141}} 行定义.

\Hypertarget{group___c_t_r_l___v_o_f_a_ga77c9aea85bbaf41bbce8fc26c9cf846e}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Init@{VOFA\_Init}}
\index{VOFA\_Init@{VOFA\_Init}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_Init()}{VOFA\_Init()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga77c9aea85bbaf41bbce8fc26c9cf846e} 
void VOFA\+\_\+\+Init (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



初始化结构体 



在文件 \mbox{\hyperlink{vofa_8c_source}{vofa.\+c}} 第 \mbox{\hyperlink{vofa_8c_source_l00025}{25}} 行定义.

\Hypertarget{group___c_t_r_l___v_o_f_a_gae9fe0fa8baf50f14038971031d27738d}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Request\_Send@{VOFA\_Request\_Send}}
\index{VOFA\_Request\_Send@{VOFA\_Request\_Send}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_Request\_Send()}{VOFA\_Request\_Send()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_gae9fe0fa8baf50f14038971031d27738d} 
void VOFA\+\_\+\+Request\+\_\+\+Send (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



请求\+VOFA发送数据 

\begin{DoxyNote}{注解}
在中断内调用此函数请求发送, 然后在主循环内调用 {\bfseries{VOFA\+\_\+\+Run}} 发送数据 
\end{DoxyNote}


在文件 \mbox{\hyperlink{vofa_8c_source}{vofa.\+c}} 第 \mbox{\hyperlink{vofa_8c_source_l00126}{126}} 行定义.

\Hypertarget{group___c_t_r_l___v_o_f_a_ga29a019e9a9005773e370e6b2013f60be}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Run@{VOFA\_Run}}
\index{VOFA\_Run@{VOFA\_Run}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_Run()}{VOFA\_Run()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga29a019e9a9005773e370e6b2013f60be} 
void VOFA\+\_\+\+Run (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



使用 Justfloat 协议, 向 VOFA 上位机发送数据 

\begin{DoxyNote}{注解}
调用前先使用 {\bfseries{VOFA\+\_\+\+Set\+\_\+\+Channel\+\_\+\+Input}} 关联相应通道变量 
\end{DoxyNote}


在文件 \mbox{\hyperlink{vofa_8c_source}{vofa.\+c}} 第 \mbox{\hyperlink{vofa_8c_source_l00077}{77}} 行定义.

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group___c_t_r_l___v_o_f_a_ga29a019e9a9005773e370e6b2013f60be_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___c_t_r_l___v_o_f_a_ga8b37353f7cbbd178e8f995dba7eaae73}\index{VOFA上位机支持@{VOFA上位机支持}!VOFA\_Set\_Channel\_Input@{VOFA\_Set\_Channel\_Input}}
\index{VOFA\_Set\_Channel\_Input@{VOFA\_Set\_Channel\_Input}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{VOFA\_Set\_Channel\_Input()}{VOFA\_Set\_Channel\_Input()}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga8b37353f7cbbd178e8f995dba7eaae73} 
void VOFA\+\_\+\+Set\+\_\+\+Channel\+\_\+\+Input (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{channel}{, }\item[{float32\+\_\+t \texorpdfstring{$\ast$}{*}}]{input\+\_\+ptr}{}\end{DoxyParamCaption})}



通道输入源关联变量 


\begin{DoxyParams}{参数}
{\em channel} & 指定\+VOFA的输入通道 \\
\hline
{\em input\+\_\+ptr} & 指向该变量的指针 \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{注解}
默认 channel 从0开始,在 channel 超出范围后默认为最大值 
\end{DoxyNote}
\begin{DoxyWarning}{警告}
输入类型必须为 {\bfseries{float32\+\_\+t}} , 不支持其他任何格式输入, 请使用局部变量转换数据类型 
\end{DoxyWarning}


在文件 \mbox{\hyperlink{vofa_8c_source}{vofa.\+c}} 第 \mbox{\hyperlink{vofa_8c_source_l00056}{56}} 行定义.



\label{doc-var-members}
\Hypertarget{group___c_t_r_l___v_o_f_a_doc-var-members}
\doxysubsubsubsubsection{变量说明}
\Hypertarget{group___c_t_r_l___v_o_f_a_ga54ca96c28eff06e3693019a16ad097ee}\index{VOFA上位机支持@{VOFA上位机支持}!message\_array@{message\_array}}
\index{message\_array@{message\_array}!VOFA上位机支持@{VOFA上位机支持}}
\doxysubsubsubsubsubsection{\texorpdfstring{message\_array}{message\_array}}
{\footnotesize\ttfamily \label{group___c_t_r_l___v_o_f_a_ga54ca96c28eff06e3693019a16ad097ee} 
\mbox{\hyperlink{struct_v_o_f_a___d_a_t_a}{VOFA\+\_\+\+DATA}} message\+\_\+array\hspace{0.3cm}{\ttfamily [extern]}}



VOFA 通信结构体变量声明 

VOFA 通信结构体变量声明 

在文件 \mbox{\hyperlink{vofa_8c_source}{vofa.\+c}} 第 \mbox{\hyperlink{vofa_8c_source_l00021}{21}} 行定义.

