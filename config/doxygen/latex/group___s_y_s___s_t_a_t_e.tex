\doxysubsubsubsection{全局状态机 }
\hypertarget{group___s_y_s___s_t_a_t_e}{}\label{group___s_y_s___s_t_a_t_e}\index{全局状态机@{全局状态机}}


提供全局状态机与时间片管理功能, 时间片任务在 \doxylink{task_8c}{task.\+c}/task.h 中实现  


全局状态机 的协作图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=246pt]{group___s_y_s___s_t_a_t_e}
\end{center}
\end{figure}
\doxysubsubsubsubsubsection*{结构体}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_e_r_r___b_i_t}{ERR\+\_\+\+BIT}}
\begin{DoxyCompactList}\small\item\em 错误状态位定义 \end{DoxyCompactList}\item 
union \mbox{\hyperlink{union_e_r_r}{ERR}}
\begin{DoxyCompactList}\small\item\em 错误状态位定义 \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_k_e_y___b_i_t}{KEY\+\_\+\+BIT}}
\begin{DoxyCompactList}\small\item\em 按键状态位定义 \end{DoxyCompactList}\item 
union \mbox{\hyperlink{union_k_e_y}{KEY}}
\begin{DoxyCompactList}\small\item\em 按键状态 \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_t_i_m_e___s_l_i_c_e___b_i_t}{TIME\+\_\+\+SLICE\+\_\+\+BIT}}
\begin{DoxyCompactList}\small\item\em 时间片位定义 \end{DoxyCompactList}\item 
union \mbox{\hyperlink{union_t_i_m_e___s_l_i_c_e}{TIME\+\_\+\+SLICE}}
\begin{DoxyCompactList}\small\item\em 时间片结构体 \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_s_t_a_t_e}{STATE}}
\begin{DoxyCompactList}\small\item\em 全局状态机结构体 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga7eabd788dcab19ca586663bf73deddf5}{MODE}} \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga1c091be83d7dafa063f5a9f506401b92}{MODE}}
\begin{DoxyCompactList}\small\item\em 当前环路 \end{DoxyCompactList}\item 
typedef struct ERR\+\_\+\+BIT \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga133bc1b8b84a010b13a8d734d878aaaa}{ERR\+\_\+\+BIT}}
\begin{DoxyCompactList}\small\item\em 错误状态位定义 \end{DoxyCompactList}\item 
typedef union ERR \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga39b29bec0989b8205acdfe08274af70c}{ERR}}
\begin{DoxyCompactList}\small\item\em 错误状态位定义 \end{DoxyCompactList}\item 
typedef struct KEY\+\_\+\+BIT \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_gad3bf94857f7ef38a138783601091f153}{KEY\+\_\+\+BIT}}
\begin{DoxyCompactList}\small\item\em 按键状态位定义 \end{DoxyCompactList}\item 
typedef union KEY \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga84d37c99488fc36522c8472139b90c58}{KEY}}
\begin{DoxyCompactList}\small\item\em 按键状态 \end{DoxyCompactList}\item 
typedef struct TIME\+\_\+\+SLICE\+\_\+\+BIT \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_gad2c7b361eefbfef64682483e5fa2dff6}{TIME\+\_\+\+SLICE\+\_\+\+BIT}}
\begin{DoxyCompactList}\small\item\em 时间片位定义 \end{DoxyCompactList}\item 
typedef union TIME\+\_\+\+SLICE \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_gad1f27eaa70997de6ba86ed2ab66c823c}{TIME\+\_\+\+SLICE}}
\begin{DoxyCompactList}\small\item\em 时间片结构体 \end{DoxyCompactList}\item 
typedef struct STATE \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga4bcd19c670ba60fad9424ed1a3015c02}{STATE}}
\begin{DoxyCompactList}\small\item\em 全局状态机结构体 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{枚举}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga7eabd788dcab19ca586663bf73deddf5}{MODE}} \{ \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5ab41fca44eeeae8547a566bda8786c24e}{MODE\+\_\+\+INIT}} = 0U
, \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5a1600621335774387002da31d20b50887}{MODE\+\_\+\+SOFTSTART}} = 1U
, \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5a99e3afddafefc9ae9c720a31e98251f4}{MODE\+\_\+\+ERROR}} = 2U
, \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5abe1b319e8db292fa6233578693a9c71c}{MODE\+\_\+\+RUN}} = 3U
 \}
\begin{DoxyCompactList}\small\item\em 当前环路 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga4448d628c7c103a33e51e52f2e111de4}{State\+\_\+\+Init}} (void)
\begin{DoxyCompactList}\small\item\em 全局状态机初始化 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsubsubsection{详细描述}
提供全局状态机与时间片管理功能, 时间片任务在 \doxylink{task_8c}{task.\+c}/task.h 中实现 



\label{doc-typedef-members}
\Hypertarget{group___s_y_s___s_t_a_t_e_doc-typedef-members}
\doxysubsubsubsubsection{类型定义说明}
\Hypertarget{group___s_y_s___s_t_a_t_e_ga39b29bec0989b8205acdfe08274af70c}\index{全局状态机@{全局状态机}!ERR@{ERR}}
\index{ERR@{ERR}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{ERR}{ERR}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_ga39b29bec0989b8205acdfe08274af70c} 
typedef union ERR ERR}



错误状态位定义 

\Hypertarget{group___s_y_s___s_t_a_t_e_ga133bc1b8b84a010b13a8d734d878aaaa}\index{全局状态机@{全局状态机}!ERR\_BIT@{ERR\_BIT}}
\index{ERR\_BIT@{ERR\_BIT}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{ERR\_BIT}{ERR\_BIT}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_ga133bc1b8b84a010b13a8d734d878aaaa} 
typedef struct ERR\+\_\+\+BIT ERR\+\_\+\+BIT}



错误状态位定义 

\Hypertarget{group___s_y_s___s_t_a_t_e_ga84d37c99488fc36522c8472139b90c58}\index{全局状态机@{全局状态机}!KEY@{KEY}}
\index{KEY@{KEY}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{KEY}{KEY}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_ga84d37c99488fc36522c8472139b90c58} 
typedef union KEY KEY}



按键状态 

\Hypertarget{group___s_y_s___s_t_a_t_e_gad3bf94857f7ef38a138783601091f153}\index{全局状态机@{全局状态机}!KEY\_BIT@{KEY\_BIT}}
\index{KEY\_BIT@{KEY\_BIT}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{KEY\_BIT}{KEY\_BIT}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_gad3bf94857f7ef38a138783601091f153} 
typedef struct KEY\+\_\+\+BIT KEY\+\_\+\+BIT}



按键状态位定义 

\Hypertarget{group___s_y_s___s_t_a_t_e_ga1c091be83d7dafa063f5a9f506401b92}\index{全局状态机@{全局状态机}!MODE@{MODE}}
\index{MODE@{MODE}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{MODE}{MODE}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_ga1c091be83d7dafa063f5a9f506401b92} 
typedef enum \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga7eabd788dcab19ca586663bf73deddf5}{MODE}} \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga7eabd788dcab19ca586663bf73deddf5}{MODE}}}



当前环路 

\Hypertarget{group___s_y_s___s_t_a_t_e_ga4bcd19c670ba60fad9424ed1a3015c02}\index{全局状态机@{全局状态机}!STATE@{STATE}}
\index{STATE@{STATE}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{STATE}{STATE}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_ga4bcd19c670ba60fad9424ed1a3015c02} 
typedef struct STATE STATE}



全局状态机结构体 

\Hypertarget{group___s_y_s___s_t_a_t_e_gad1f27eaa70997de6ba86ed2ab66c823c}\index{全局状态机@{全局状态机}!TIME\_SLICE@{TIME\_SLICE}}
\index{TIME\_SLICE@{TIME\_SLICE}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{TIME\_SLICE}{TIME\_SLICE}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_gad1f27eaa70997de6ba86ed2ab66c823c} 
typedef union TIME\+\_\+\+SLICE TIME\+\_\+\+SLICE}



时间片结构体 

\Hypertarget{group___s_y_s___s_t_a_t_e_gad2c7b361eefbfef64682483e5fa2dff6}\index{全局状态机@{全局状态机}!TIME\_SLICE\_BIT@{TIME\_SLICE\_BIT}}
\index{TIME\_SLICE\_BIT@{TIME\_SLICE\_BIT}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{TIME\_SLICE\_BIT}{TIME\_SLICE\_BIT}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_gad2c7b361eefbfef64682483e5fa2dff6} 
typedef struct TIME\+\_\+\+SLICE\+\_\+\+BIT TIME\+\_\+\+SLICE\+\_\+\+BIT}



时间片位定义 



\label{doc-enum-members}
\Hypertarget{group___s_y_s___s_t_a_t_e_doc-enum-members}
\doxysubsubsubsubsection{枚举类型说明}
\Hypertarget{group___s_y_s___s_t_a_t_e_ga7eabd788dcab19ca586663bf73deddf5}\index{全局状态机@{全局状态机}!MODE@{MODE}}
\index{MODE@{MODE}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{MODE}{MODE}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_ga7eabd788dcab19ca586663bf73deddf5} 
enum \mbox{\hyperlink{group___s_y_s___s_t_a_t_e_ga7eabd788dcab19ca586663bf73deddf5}{MODE}}}



当前环路 

\begin{DoxyEnumFields}[2]{枚举值}
\raisebox{\heightof{T}}[0pt][0pt]{\index{MODE\_INIT@{MODE\_INIT}!全局状态机@{全局状态机}}\index{全局状态机@{全局状态机}!MODE\_INIT@{MODE\_INIT}}}\Hypertarget{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5ab41fca44eeeae8547a566bda8786c24e}\label{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5ab41fca44eeeae8547a566bda8786c24e} 
MODE\+\_\+\+INIT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MODE\_SOFTSTART@{MODE\_SOFTSTART}!全局状态机@{全局状态机}}\index{全局状态机@{全局状态机}!MODE\_SOFTSTART@{MODE\_SOFTSTART}}}\Hypertarget{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5a1600621335774387002da31d20b50887}\label{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5a1600621335774387002da31d20b50887} 
MODE\+\_\+\+SOFTSTART&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MODE\_ERROR@{MODE\_ERROR}!全局状态机@{全局状态机}}\index{全局状态机@{全局状态机}!MODE\_ERROR@{MODE\_ERROR}}}\Hypertarget{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5a99e3afddafefc9ae9c720a31e98251f4}\label{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5a99e3afddafefc9ae9c720a31e98251f4} 
MODE\+\_\+\+ERROR&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MODE\_RUN@{MODE\_RUN}!全局状态机@{全局状态机}}\index{全局状态机@{全局状态机}!MODE\_RUN@{MODE\_RUN}}}\Hypertarget{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5abe1b319e8db292fa6233578693a9c71c}\label{group___s_y_s___s_t_a_t_e_gga7eabd788dcab19ca586663bf73deddf5abe1b319e8db292fa6233578693a9c71c} 
MODE\+\_\+\+RUN&\\
\hline

\end{DoxyEnumFields}


在文件 \mbox{\hyperlink{state_8h_source}{state.\+h}} 第 \mbox{\hyperlink{state_8h_source_l00022}{22}} 行定义.



\label{doc-func-members}
\Hypertarget{group___s_y_s___s_t_a_t_e_doc-func-members}
\doxysubsubsubsubsection{函数说明}
\Hypertarget{group___s_y_s___s_t_a_t_e_ga4448d628c7c103a33e51e52f2e111de4}\index{全局状态机@{全局状态机}!State\_Init@{State\_Init}}
\index{State\_Init@{State\_Init}!全局状态机@{全局状态机}}
\doxysubsubsubsubsubsection{\texorpdfstring{State\_Init()}{State\_Init()}}
{\footnotesize\ttfamily \label{group___s_y_s___s_t_a_t_e_ga4448d628c7c103a33e51e52f2e111de4} 
void State\+\_\+\+Init (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



全局状态机初始化 



在文件 \mbox{\hyperlink{state_8c_source}{state.\+c}} 第 \mbox{\hyperlink{state_8c_source_l00017}{17}} 行定义.

